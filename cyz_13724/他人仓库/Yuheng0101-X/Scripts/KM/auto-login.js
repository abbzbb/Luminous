/******************************************
 * @name 快猫
 * @channel https://t.me/yqc_123
 * @feedback https://t.me/yqc_777
 * @update 20231201
 * @version 1.0.0
******************************************/
const $ = new Env('快猫')
const debug = false
var _0xodi='jsjiami.com.v7';const _0x398937=_0x4dcd;if(function(_0x13ba93,_0x571325,_0x36bbbf,_0x576168,_0x40cc52,_0x2da0ac,_0x589705){return _0x13ba93=_0x13ba93>>0x2,_0x2da0ac='hs',_0x589705='hs',function(_0x4c6ed0,_0x1532f2,_0x32fd8b,_0x5407da,_0x4fd95f){const _0x35cf2a=_0x4dcd;_0x5407da='tfi',_0x2da0ac=_0x5407da+_0x2da0ac,_0x4fd95f='up',_0x589705+=_0x4fd95f,_0x2da0ac=_0x32fd8b(_0x2da0ac),_0x589705=_0x32fd8b(_0x589705),_0x32fd8b=0x0;const _0x2b11d8=_0x4c6ed0();while(!![]&&--_0x576168+_0x1532f2){try{_0x5407da=parseInt(_0x35cf2a(0x19b,'hJqu'))/0x1+parseInt(_0x35cf2a(0x234,'j)NG'))/0x2+parseInt(_0x35cf2a(0x1b2,'&b*V'))/0x3+parseInt(_0x35cf2a(0x187,'7$[Z'))/0x4+-parseInt(_0x35cf2a(0x1f8,'uT9k'))/0x5+parseInt(_0x35cf2a(0x178,'&b*V'))/0x6*(-parseInt(_0x35cf2a(0x1df,'TQa1'))/0x7)+-parseInt(_0x35cf2a(0x1d5,'lliK'))/0x8;}catch(_0x2df92b){_0x5407da=_0x32fd8b;}finally{_0x4fd95f=_0x2b11d8[_0x2da0ac]();if(_0x13ba93<=_0x576168)_0x32fd8b?_0x40cc52?_0x5407da=_0x4fd95f:_0x40cc52=_0x4fd95f:_0x32fd8b=_0x4fd95f;else{if(_0x32fd8b==_0x40cc52['replace'](/[qCpygEIUDGOSWVPxebrAwH=]/g,'')){if(_0x5407da===_0x1532f2){_0x2b11d8['un'+_0x2da0ac](_0x4fd95f);break;}_0x2b11d8[_0x589705](_0x4fd95f);}}}}}(_0x36bbbf,_0x571325,function(_0x1168bb,_0x1f5eaf,_0x5cf916,_0x5945b4,_0x2b3422,_0x5c187b,_0x45b88d){return _0x1f5eaf='\x73\x70\x6c\x69\x74',_0x1168bb=arguments[0x0],_0x1168bb=_0x1168bb[_0x1f5eaf](''),_0x5cf916='\x72\x65\x76\x65\x72\x73\x65',_0x1168bb=_0x1168bb[_0x5cf916]('\x76'),_0x5945b4='\x6a\x6f\x69\x6e',(0x149aa9,_0x1168bb[_0x5945b4](''));});}(0x328,0x7c834,_0x5f35,0xcc),_0x5f35){}function AutoLogin(){const _0x2360d2=_0x4dcd,_0x5aee39={'PVICs':'yuheng','eVmHH':'@qq.com','XRzre':_0x2360d2(0x1f3,'p1Og'),'DZCkm':_0x2360d2(0x23d,'Fnqc'),'DTHWJ':_0x2360d2(0x21f,'g3ue'),'pJDPJ':function(_0x5661c9,_0x27efae){return _0x5661c9+_0x27efae;},'ZqIcw':function(_0x40fde3,_0x65303a){return _0x40fde3+_0x65303a;},'dqFWl':function(_0x5481a3,_0x1b3bd2){return _0x5481a3|_0x1b3bd2;},'zdNxw':function(_0x14348e,_0x21bf96){return _0x14348e+_0x21bf96;},'OPlSr':function(_0x542ad5,_0x2be63){return _0x542ad5+_0x2be63;},'fEPsa':function(_0x2d6f6f,_0x28eac6){return _0x2d6f6f+_0x28eac6;},'FAUol':function(_0x3bef82,_0x429d2c){return _0x3bef82+_0x429d2c;},'TVYhY':function(_0x55d2d9,_0x15c962){return _0x55d2d9+_0x15c962;},'QPzmA':function(_0x35b012,_0x16d927){return _0x35b012+_0x16d927;},'YPpgr':function(_0x5a21b1,_0x62a5f5){return _0x5a21b1===_0x62a5f5;},'slTsw':_0x2360d2(0x22c,'#DBH'),'jjuxJ':_0x2360d2(0x1a4,'lliK'),'GSGBm':function(_0x5f3336,_0x569baf){return _0x5f3336/_0x569baf;},'qyMXT':function(_0x1881d3,_0x368c43){return _0x1881d3(_0x368c43);},'oisuM':_0x2360d2(0x182,'hJqu'),'HWwZW':function(_0x512725,_0x29392b){return _0x512725*_0x29392b;},'yHMic':function(_0x920084,_0xe16288){return _0x920084*_0xe16288;},'WLUTE':function(_0x1b7128,_0x535117){return _0x1b7128(_0x535117);},'ampJG':_0x2360d2(0x221,'uT9k'),'dxmBt':function(_0x2c22f3,_0x37dfcb){return _0x2c22f3+_0x37dfcb;},'YBAfO':function(_0x2bc79b,_0x3dc084){return _0x2bc79b+_0x3dc084;},'BQqRe':'dZjqV','UYkTX':'pzFll','ySdtD':function(_0x198308,_0x5184dc){return _0x198308!==_0x5184dc;},'mlDhy':function(_0x155d0c){return _0x155d0c();},'eUunF':function(_0x45b57e,_0x4eb171){return _0x45b57e(_0x4eb171);},'IiDxR':function(_0x366c25,_0x130065){return _0x366c25(_0x130065);},'oTZXL':function(_0x28a1a5,_0x19baf3,_0x247fba){return _0x28a1a5(_0x19baf3,_0x247fba);},'FAGij':function(_0x176f17,_0x3b2055){return _0x176f17(_0x3b2055);},'rxbov':'PQAgW','IaSCX':_0x2360d2(0x1d8,'n5wy'),'PmBhv':function(_0x1c4279,_0x3d5b7b){return _0x1c4279===_0x3d5b7b;},'ioONZ':'OXjof','TGeRn':function(_0x227ecf,_0x4f708b){return _0x227ecf(_0x4f708b);},'NyHpG':function(_0x5df590,_0x3c2cc1,_0x503746){return _0x5df590(_0x3c2cc1,_0x503746);},'UqJPt':function(_0x1be80e,_0x52f0ef){return _0x1be80e+_0x52f0ef;},'kwVZe':function(_0x5eab60,_0x300469){return _0x5eab60(_0x300469);}},_0x46a347='https://kmppi.zhihuibafang.xyz/',_0x4fa1d6=(_0x8109ad=0x5)=>{const _0x55b16e=_0x2360d2,_0x64a509=_0x5aee39[_0x55b16e(0x24c,'Zr5H')],_0x47af27=[_0x5aee39[_0x55b16e(0x17c,'g3ue')],_0x55b16e(0x17b,'#DBH'),_0x55b16e(0x199,'hJqu'),_0x5aee39['XRzre'],_0x5aee39[_0x55b16e(0x1c8,'x60n')],_0x5aee39[_0x55b16e(0x195,'&b*V')]]['sort'](()=>Math[_0x55b16e(0x1de,'q0EO')]()-0.5)[0x0],_0x4b5c46=Math[_0x55b16e(0x248,'W*Rv')]()[_0x55b16e(0x1b4,'i(@j')](0x24)['substr'](_0x8109ad);return _0x5aee39[_0x55b16e(0x20c,'])E7')](_0x5aee39[_0x55b16e(0x1bc,'Y34z')](_0x64a509,_0x4b5c46),_0x47af27);},_0xd4ab2d={'getSignCode':function(){const _0x1742f2=_0x2360d2;return _0x5aee39[_0x1742f2(0x17d,'#DBH')](0x10000*_0x5aee39[_0x1742f2(0x233,'#&Qr')](0x1,Math['random']()),0x0)[_0x1742f2(0x19c,'#&Qr')](0x10)[_0x1742f2(0x1ab,'uT9k')](0x1);},'getSignCodeStr':function(){const _0x3ed978=_0x2360d2;return _0x5aee39[_0x3ed978(0x1be,'Zr5H')](_0x5aee39[_0x3ed978(0x215,'IoKF')](_0x5aee39[_0x3ed978(0x244,'C&vN')](_0x5aee39[_0x3ed978(0x1f6,'hJqu')](_0x5aee39['zdNxw'](_0x5aee39['QPzmA'](_0xd4ab2d['getSignCode'](),_0xd4ab2d[_0x3ed978(0x246,'x60n')]())+'-'+_0xd4ab2d[_0x3ed978(0x185,'])E7')](),'-')+_0xd4ab2d[_0x3ed978(0x204,'Y34z')](),'-')+_0xd4ab2d['getSignCode'](),'-')+_0xd4ab2d[_0x3ed978(0x246,'x60n')](),_0xd4ab2d[_0x3ed978(0x246,'x60n')]()),_0xd4ab2d[_0x3ed978(0x1cc,'Tb)i')]());}},_0x3592eb=_0x527c7c=>{const _0xa8c682=_0x2360d2,_0x463ec5={'vnTzM':function(_0x292c6d,_0x2f3a8c){return _0x5aee39['qyMXT'](_0x292c6d,_0x2f3a8c);},'XDZXg':_0x5aee39[_0xa8c682(0x21a,'&b*V')],'LCfte':function(_0x1d6715,_0x2bb273){return _0x5aee39['HWwZW'](_0x1d6715,_0x2bb273);},'TlYwA':function(_0x462f82,_0x227257){return _0x5aee39['HWwZW'](_0x462f82,_0x227257);},'aZqgh':function(_0x3492c8,_0x579f6a){const _0xa96ff7=_0xa8c682;return _0x5aee39[_0xa96ff7(0x1e0,'0vaY')](_0x3492c8,_0x579f6a);},'WoSdv':function(_0x36c4e5,_0x119ecf){const _0x280b74=_0xa8c682;return _0x5aee39[_0x280b74(0x1eb,'i(@j')](_0x36c4e5,_0x119ecf);},'vAnBO':function(_0xff0ca4,_0x425979){return _0x5aee39['TVYhY'](_0xff0ca4,_0x425979);},'FfgLm':_0xa8c682(0x1fc,'Fnqc'),'QjRFP':_0x5aee39[_0xa8c682(0x20f,'IoKF')],'ilEZX':function(_0x3f5e85,_0x255816){return _0x5aee39['dxmBt'](_0x3f5e85,_0x255816);},'lMFCy':function(_0x49a2d1,_0x56614d){const _0x52eb2e=_0xa8c682;return _0x5aee39[_0x52eb2e(0x1b7,'uT9k')](_0x49a2d1,_0x56614d);},'haZHu':function(_0x66c71d,_0xd1b4b4){return _0x5aee39['TVYhY'](_0x66c71d,_0xd1b4b4);},'hrSWs':function(_0x3da2d2,_0x1399b1){return _0x3da2d2!==_0x1399b1;},'RoNHj':_0x5aee39[_0xa8c682(0x183,'zo5S')],'lFbaL':_0x5aee39[_0xa8c682(0x21e,'YPL1')]};if(_0x5aee39[_0xa8c682(0x194,'j)NG')]('lvtQS','lvtQS'))_0x2c5687[_0xa8c682(0x1a3,'Fnqc')]('❌\x20出现错误,\x20需手动登录\x20!\x0a'+_0x158301);else return new Promise((_0x337247,_0x4dd8ce)=>{const _0x974c62=_0xa8c682;if(_0x5aee39[_0x974c62(0x207,'#&Qr')]('wGRvT',_0x5aee39[_0x974c62(0x206,'C&vN')])){const _0xa96fd2=_0x463ec5['vnTzM'](_0x24db8e,_0x474b28[_0x974c62(0x1aa,'eaI#')](_0x463ec5[_0x974c62(0x1f0,'C&vN')])||'0'),_0x39367f=new _0x5c637e()['getTime']();_0x39367f-_0xa96fd2<_0x463ec5['LCfte'](_0x463ec5[_0x974c62(0x20d,'#DBH')](_0x463ec5['aZqgh'](0x18,0x3c),0x3c),0x3e8)?_0x463ec5[_0x974c62(0x1ce,'PQeR')](_0x388b96,_0x974c62(0x197,'C&vN')):(_0x20567c[_0x974c62(0x22b,'lliK')](_0x463ec5[_0x974c62(0x1c7,'mdwh')](_0x39367f,''),_0x463ec5[_0x974c62(0x191,'q0EO')]),_0x454816('🔔\x20通知间隔大于24小时,\x20发送通知'),_0x5d7e95[_0x974c62(0x1b0,'#Em9')](_0x463ec5['FfgLm'],'','𝘠𝘶𝘩𝘦𝘯𝘨已为你解锁全部视频',{'open-url':_0x463ec5['QjRFP']}));}else $[_0x974c62(0x22a,'l*Y$')]({'url':/http/[_0x974c62(0x1e4,'])E7')](_0x527c7c[_0x974c62(0x1e5,'r$JA')])?_0x527c7c[_0x974c62(0x1e7,'&b*V')]:_0x5aee39[_0x974c62(0x1f4,'h&j3')](_0x46a347,_0x527c7c[_0x974c62(0x198,'uT9k')]),'headers':Object['assign']({'Content-Type':_0x974c62(0x1d7,'Fnqc'),'User-Agent':_0x5aee39[_0x974c62(0x216,'4Bsw')],'timestamp':Math[_0x974c62(0x217,'n5wy')](_0x5aee39[_0x974c62(0x214,'4Bsw')](new Date()[_0x974c62(0x1cf,'h&j3')](),0x3e8)),'timestr':_0xd4ab2d['getSignCodeStr']()},_0x527c7c[_0x974c62(0x24a,'])E7')]||{}),'body':JSON['stringify'](_0x527c7c?.[_0x974c62(0x180,'#Em9')]||{})},(_0x1aafbe,_0x2d527d,_0x248365)=>{const _0x16462c=_0x974c62,_0x96a3b0={'eWQsl':function(_0x4e3960,_0x77c405){const _0x26a06f=_0x4dcd;return _0x463ec5[_0x26a06f(0x1cd,'x21o')](_0x4e3960,_0x77c405);},'XfKbt':function(_0x316644,_0x346e20){const _0x5959c3=_0x4dcd;return _0x463ec5[_0x5959c3(0x1a7,'Jr^r')](_0x316644,_0x346e20);},'VnlDX':function(_0x31ace4,_0x3730c7){return _0x463ec5['vAnBO'](_0x31ace4,_0x3730c7);},'Wrzgt':function(_0x39c23b,_0x366bad){const _0x1d6f82=_0x4dcd;return _0x463ec5[_0x1d6f82(0x1db,'IoKF')](_0x39c23b,_0x366bad);}};if(_0x463ec5['hrSWs'](_0x16462c(0x177,'])E7'),_0x463ec5[_0x16462c(0x1e2,'480x')])){if(_0x1aafbe)_0x4dd8ce(_0x1aafbe);else{let _0x2123e0=_0x248365;try{if(_0x463ec5[_0x16462c(0x181,'n5wy')]!==_0x463ec5['lFbaL'])throw new _0x455e2f(_0x442241);else _0x2123e0=JSON[_0x16462c(0x1a2,'l*Y$')](_0x248365);}catch(_0x26f171){}_0x2123e0['code']===0x1?_0x337247(_0x2123e0[_0x16462c(0x1d4,'g3ue')]):_0x4dd8ce(_0x2123e0[_0x16462c(0x19d,'SaF3')]);}}else return _0x96a3b0[_0x16462c(0x19f,'x21o')](_0x96a3b0[_0x16462c(0x1a9,'C&vN')](_0x96a3b0['VnlDX'](_0x96a3b0[_0x16462c(0x1f7,'I&Do')](_0x96a3b0[_0x16462c(0x1f5,'#&Qr')](_0x96a3b0[_0x16462c(0x229,'r$JA')](_0x96a3b0[_0x16462c(0x196,'x21o')](_0x96a3b0[_0x16462c(0x18e,'q0EO')](_0x96a3b0[_0x16462c(0x21c,'Fnqc')](_0x96a3b0[_0x16462c(0x1f7,'I&Do')](_0x59f25a[_0x16462c(0x1bb,'480x')](),_0x5720f5['getSignCode']()),'-'),_0x342038[_0x16462c(0x1b8,'x21o')]()),'-'),_0x1ae6ec[_0x16462c(0x243,'IoKF')]()),'-'),_0x2d70c4[_0x16462c(0x20a,'&b*V')]()),'-'),_0x1f30e0['getSignCode']())+_0x1d5868[_0x16462c(0x1dc,'ipkk')](),_0x6eb61e['getSignCode']());});});};return new class{constructor(){const _0x31073b=_0x2360d2;this[_0x31073b(0x1ea,'x21o')]=_0x46a347,this[_0x31073b(0x1c3,'#Em9')]=_0x5aee39[_0x31073b(0x17a,'N(Om')](_0x4fa1d6),this[_0x31073b(0x1d9,'q0EO')]=_0x31073b(0x205,'!Y2t');}async['register'](){const _0x53f5c4=_0x2360d2;_0x5aee39['IiDxR'](output,'🔑\x20注册中...');try{const _0xd6a6eb={'url':'user/register','body':{'clientType':0x4,'userName':this[_0x53f5c4(0x23a,'IoKF')],'password':this['password'],'code':''}},_0xe91bf2=await _0x5aee39[_0x53f5c4(0x219,'TQa1')](_0x3592eb,_0xd6a6eb),_0x1f16bd=await _0x5aee39[_0x53f5c4(0x1a1,'l*Y$')](DecryptResp,_0xe91bf2,_0x53f5c4(0x1d1,'0vaY'));_0x5aee39[_0x53f5c4(0x23e,'I&Do')](output,_0x53f5c4(0x189,'ipkk')+_0x1f16bd['userName']);}catch(_0x2c7254){if(_0x5aee39[_0x53f5c4(0x193,'C&vN')](_0x53f5c4(0x1d3,'Y34z'),_0x5aee39[_0x53f5c4(0x1e8,'!Y2t')])){if(_0x1c89ba)_0x5aee39[_0x53f5c4(0x17e,'#DBH')](_0x3a1c62,_0x123154);else{const {success:_0xce65d8,data:_0x22dd38,message:_0x3cbbfd}=_0x51dd88['parse'](_0x2f08df);_0xce65d8?_0x5aee39[_0x53f5c4(0x21b,'p1Og')](_0x50937d,_0x22dd38):_0x5aee39[_0x53f5c4(0x1e1,'lliK')](_0x530c27,_0x3cbbfd);}}else console[_0x53f5c4(0x1cb,'#&Qr')](_0x53f5c4(0x218,'i(@j')+_0x2c7254);}}async[_0x2360d2(0x227,'uT9k')](){const _0x3fe074=_0x2360d2;_0x5aee39[_0x3fe074(0x240,'0vaY')](output,'🔑\x20登录中...');try{if(_0x5aee39[_0x3fe074(0x231,'fohe')](_0x3fe074(0x1c5,'zo5S'),_0x5aee39[_0x3fe074(0x201,'!Y2t')]))_0x488b11[_0x3fe074(0x249,'Fnqc')](_0x5ea32a+'',_0x5aee39[_0x3fe074(0x1b3,'0vaY')]),_0x5aee39[_0x3fe074(0x202,'7$[Z')](_0x2e51df,_0x3fe074(0x1bd,'fohe')),_0x2ade48[_0x3fe074(0x1b9,'480x')](_0x5aee39['IaSCX'],'','𝘠𝘶𝘩𝘦𝘯𝘨已为你解锁全部视频',{'open-url':_0x5aee39['ampJG']});else{const _0x2cc788={'url':_0x3fe074(0x225,'zo5S'),'body':{'clientType':0x4,'userName':this[_0x3fe074(0x190,'W*Rv')],'password':this['password']}},_0x52f29c=await _0x5aee39[_0x3fe074(0x1ca,'l*Y$')](_0x3592eb,_0x2cc788),_0x1793cc=Object[_0x3fe074(0x18a,'#Em9')](await _0x5aee39[_0x3fe074(0x1ba,'480x')](DecryptResp,_0x52f29c,_0x3fe074(0x232,'!Y2t')),{'_expireTime':_0x5aee39['UqJPt'](new Date()[_0x3fe074(0x247,'q0EO')](),_0x5aee39['HWwZW'](_0x5aee39[_0x3fe074(0x1d6,'Fnqc')](0xc,0x3c),0x3c)*0x3e8)});return _0x5aee39[_0x3fe074(0x1a6,'g3ue')](output,'🎉\x20登录成功:\x20'+_0x1793cc[_0x3fe074(0x224,'n5wy')]),_0x1793cc;}}catch(_0x2a2e1a){console[_0x3fe074(0x1b5,'4Bsw')](_0x3fe074(0x223,'IoKF')+_0x2a2e1a);}}}();}function _0x4dcd(_0x7afe,_0x3f37c4){const _0x5f3579=_0x5f35();return _0x4dcd=function(_0x4dcd78,_0x15c30b){_0x4dcd78=_0x4dcd78-0x176;let _0x3dea42=_0x5f3579[_0x4dcd78];if(_0x4dcd['teCdAi']===undefined){var _0x427727=function(_0x304417){const _0x48e1e0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x189b2b='',_0x2eb32c='';for(let _0x3284f9=0x0,_0x39e5b3,_0x204db1,_0x3929fb=0x0;_0x204db1=_0x304417['charAt'](_0x3929fb++);~_0x204db1&&(_0x39e5b3=_0x3284f9%0x4?_0x39e5b3*0x40+_0x204db1:_0x204db1,_0x3284f9++%0x4)?_0x189b2b+=String['fromCharCode'](0xff&_0x39e5b3>>(-0x2*_0x3284f9&0x6)):0x0){_0x204db1=_0x48e1e0['indexOf'](_0x204db1);}for(let _0x314196=0x0,_0x64db98=_0x189b2b['length'];_0x314196<_0x64db98;_0x314196++){_0x2eb32c+='%'+('00'+_0x189b2b['charCodeAt'](_0x314196)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2eb32c);};const _0x357957=function(_0x383caa,_0x528713){let _0x408dcf=[],_0x314803=0x0,_0x4d00a9,_0x212a1c='';_0x383caa=_0x427727(_0x383caa);let _0x35047e;for(_0x35047e=0x0;_0x35047e<0x100;_0x35047e++){_0x408dcf[_0x35047e]=_0x35047e;}for(_0x35047e=0x0;_0x35047e<0x100;_0x35047e++){_0x314803=(_0x314803+_0x408dcf[_0x35047e]+_0x528713['charCodeAt'](_0x35047e%_0x528713['length']))%0x100,_0x4d00a9=_0x408dcf[_0x35047e],_0x408dcf[_0x35047e]=_0x408dcf[_0x314803],_0x408dcf[_0x314803]=_0x4d00a9;}_0x35047e=0x0,_0x314803=0x0;for(let _0xe3591=0x0;_0xe3591<_0x383caa['length'];_0xe3591++){_0x35047e=(_0x35047e+0x1)%0x100,_0x314803=(_0x314803+_0x408dcf[_0x35047e])%0x100,_0x4d00a9=_0x408dcf[_0x35047e],_0x408dcf[_0x35047e]=_0x408dcf[_0x314803],_0x408dcf[_0x314803]=_0x4d00a9,_0x212a1c+=String['fromCharCode'](_0x383caa['charCodeAt'](_0xe3591)^_0x408dcf[(_0x408dcf[_0x35047e]+_0x408dcf[_0x314803])%0x100]);}return _0x212a1c;};_0x4dcd['NIrBKc']=_0x357957,_0x7afe=arguments,_0x4dcd['teCdAi']=!![];}const _0x2b354f=_0x5f3579[0x0],_0x44c38f=_0x4dcd78+_0x2b354f,_0x555174=_0x7afe[_0x44c38f];return!_0x555174?(_0x4dcd['fIHZRU']===undefined&&(_0x4dcd['fIHZRU']=!![]),_0x3dea42=_0x4dcd['NIrBKc'](_0x3dea42,_0x15c30b),_0x7afe[_0x44c38f]=_0x3dea42):_0x3dea42=_0x555174,_0x3dea42;},_0x4dcd(_0x7afe,_0x3f37c4);}async function getUserInfo(){const _0x24c430=_0x4dcd,_0x290a65={'KwBdX':function(_0x4c6a23,_0x1c77eb){return _0x4c6a23(_0x1c77eb);},'prOcq':function(_0x5e998a,_0x429495){return _0x5e998a>_0x429495;},'fMZAY':_0x24c430(0x1f2,'480x'),'GmNsg':function(_0x4376dd,_0x367df5){return _0x4376dd!==_0x367df5;},'AiWfX':'rgLfT','drmkv':_0x24c430(0x192,'#&Qr'),'iSAhA':function(_0x65259b,_0x44aa1f){return _0x65259b(_0x44aa1f);}};try{let _0x46ce2d=JSON['parse']($['getdata'](_0x24c430(0x237,'0vaY'))||'{}');if(Object['keys'][_0x24c430(0x1ad,'#DBH')]>0x0&&_0x290a65[_0x24c430(0x1fa,'q0EO')](_0x46ce2d[_0x24c430(0x1c6,'p1Og')],new Date()[_0x24c430(0x1ff,'!Y2t')]()))output('🔑\x20登录信息有效,\x20无需重新登录'),output(_0x24c430(0x239,'HuWi')+_0x46ce2d[_0x24c430(0x1e6,'Fnqc')]+',\x20有效期至:\x20'+$[_0x24c430(0x1fe,'7$[Z')](_0x290a65['fMZAY'],_0x46ce2d[_0x24c430(0x18d,'HuWi')]));else{if(_0x290a65[_0x24c430(0x186,'#Em9')](_0x290a65[_0x24c430(0x1ec,'Y34z')],_0x290a65[_0x24c430(0x176,'Y34z')])){_0x290a65[_0x24c430(0x228,'j)NG')](output,_0x24c430(0x22d,'Zr5H'));const _0x4b5b6c=new AutoLogin();await _0x4b5b6c[_0x24c430(0x1c1,'IoKF')](),_0x46ce2d=await _0x4b5b6c[_0x24c430(0x212,'])E7')](),$['setdata'](JSON[_0x24c430(0x17f,'W*Rv')](_0x46ce2d),_0x24c430(0x1ed,'p([F'));}else _0x290a65[_0x24c430(0x203,'fohe')](_0x1a5b47,_0xe136e9[_0x24c430(0x1c0,'lliK')]);}return _0x46ce2d;}catch(_0x54a1ed){throw new Error(_0x54a1ed);}}const sendMsg=async()=>{const _0x3907cc=_0x4dcd,_0x5e74a0={'FrJLc':function(_0x9937c0,_0x301a58){return _0x9937c0(_0x301a58);},'oXHcT':_0x3907cc(0x209,'#Em9'),'toKZo':function(_0x29bc09,_0x341f58){return _0x29bc09-_0x341f58;},'VBacH':function(_0x2e15c4,_0x51a049){return _0x2e15c4*_0x51a049;},'xfBEd':function(_0x420fbd,_0x55db0e){return _0x420fbd*_0x55db0e;},'eomvN':_0x3907cc(0x220,'C&vN'),'iwUaq':function(_0x4f9d9e,_0x880dae){return _0x4f9d9e+_0x880dae;},'YZkiG':function(_0x4ca68b,_0x17ebca){return _0x4ca68b(_0x17ebca);},'zkjpn':_0x3907cc(0x208,'&b*V')},_0x4e0b94=Number($[_0x3907cc(0x211,'x60n')](_0x5e74a0[_0x3907cc(0x1b6,')Gwz')])||'0'),_0x123ee3=new Date()['getTime']();_0x5e74a0[_0x3907cc(0x24b,'Jr^r')](_0x123ee3,_0x4e0b94)<_0x5e74a0[_0x3907cc(0x1fb,'!Y2t')](_0x5e74a0[_0x3907cc(0x1f1,'#&Qr')](0x18,0x3c),0x3c)*0x3e8?output(_0x3907cc(0x210,'#&Qr')):_0x5e74a0[_0x3907cc(0x1ac,'x21o')]==='yLExj'?_0x5e74a0[_0x3907cc(0x23f,'W*Rv')](_0x5e3b58,_0x3907cc(0x179,'j)NG')):($['setval'](_0x5e74a0[_0x3907cc(0x1ee,'PQeR')](_0x123ee3,''),'kuaimao_last_notify_time'),_0x5e74a0[_0x3907cc(0x1e9,'TQa1')](output,_0x3907cc(0x1f9,'])E7')),$[_0x3907cc(0x1c4,'Zr5H')](_0x3907cc(0x1fd,'Y34z'),'',_0x5e74a0[_0x3907cc(0x1d2,'480x')],{'open-url':_0x3907cc(0x213,'x21o')}));};(async()=>{const _0x975e61=_0x4dcd,_0x397788={'ZsSEC':function(_0xce897a){return _0xce897a();},'NZpMj':function(_0x36e7be){return _0x36e7be();},'DQLrU':function(_0x70db28,_0x3698db){return _0x70db28(_0x3698db);}};await _0x397788[_0x975e61(0x18b,'Jr^r')](sendMsg);const _0x6ff457=await _0x397788['NZpMj'](getUserInfo),_0x4c5ecf=_0x397788['DQLrU'](ObjectKeys2LowerCase,$request['headers']);Object[_0x975e61(0x242,'fohe')](_0x4c5ecf,{'token':_0x6ff457[_0x975e61(0x241,'Jr^r')]}),$[_0x975e61(0x22f,'p([F')]({'headers':_0x4c5ecf});})()['catch'](_0x34ec51=>$[_0x398937(0x23c,'n5wy')](_0x34ec51));function _0x5f35(){const _0x1cb27b=(function(){return[_0xodi,'AWCIjWsDjgiaSmxxOieU.rScpbGoyVPmE.Hwv7Wq==','s13cG0JcRW','W6/dKSkDBa7dTSoSWPGNW4CUtq','Bgj2t0JdRYyP','W53dMZ/dKeGKW60','WPeCtCo+EsLbW40KWPhdL0NdSWG','hCkaW7eFkW','WRFdLeWrWRvKaItcOZG','WRqrvxbe','WQSKFvTT','ef1K','fmoWWOddU8kJWPrYECkmWP/dI8osW596pSoxWRtdPw7cMmkJWQhdOSkhugm3WQOCatBcReC8WPNdMhZdJCk6WONdTavZW5TJW4ddSCkPf1KFixVcGCkEFY4GyLVcLSoNn1rQWOnAWR3dJrCwo8owW6ddPSoto2tcLd4LAmk/mmkBW5pcQgldItVcUaVdOdqkWPbLWRJdHc9OB1b7W4pdVXOxdSkRA8oUuSkAWRJdSahdKSkxAbT4tmoiAgJdH8oCWROTDXlcSuZdRW','W5JdIJJdK1P5WQFcOtG/dIxcUCkBemoBW45reSorWQpcNmohW6ycWR3dK0ldS8kaWOm8W7uNWPHAzmk1WRNdNCkUFSoclYfmW5a','wJ/dQSoSDq','W6JcOtC4WQK','oZCcWPL5WRRcG8k3kdatWO1kumkZW5u','kH/dKJrO','WOdcHabqW6tdKq','jebVh8kwpSkmWP/cSq','hCk4W40Acq','WPFdRSohh8otWQy','WOhcNxjAWODmeSkbWOO/WQucFuxcPmkt','W6iiW7FdOa','iCoYfW','BSkSpmo2WRa','WQ1+wmkrsCksW7OUW4dcMraHnq','ymkRtSkGWOS','qGeTBcWHW5hdUG','d8kvBW','cCoCWP/cOSk1','dNDmcSkT','h8kYW5q/lSk3WRzHW4ddQmkZ','WOZcTSkF','WQ/cVmkWW7ldOG','WOBcOmkmW5hdJmkRFSo1WPmUuG','W4GwW43dT3O','8jw2UGxPGANNNyZPLBdPMjtLPldKURtcR8kw5BgV5PssqxRLJyNPG5pPGlxNNOa','a8oTFmkdka','whZdVSo0WPm','nmo6WONdOCkUWP92','WR/cPCoAbhVdQfBcJq','WOhcJxJcMHLYWR3dUcG9gZdcTa','oCoYfCopkCk/qwC','iCooDW','WQNcPSkIlg8','W5VcIqztWPv1pGpcIqvR','WRpcIKxcGei','W5JdHMNdHmkx','WQDvWRFcOZZcOgmKWRVdPCoMW7O','WO8cANPM','Dgjc','psigWQz5WR7cJmkalJSy','eCk7W6u2hW','B2rnxCkb','WQbJW7lcNSkfsh8','W64Gd8oqia','zmk3xmk8WQT5W5S','WPVcRSksW7ldIW','W4i2W4xdS1O','vsNdImox','AmkUW4JcOSo7W44HySo8W5pcKSkLWOj1','ngv0WQTO','hujZWP1wx00Wz8kmW4hdT8ofBKFdIq','5B+i54+i8kgyUa','WRtdImoPWQ7cKw3cN8o6','imosDW','WQxcOCoNjx0','W4hcQ8oInmo8W6Krqmk5WQ4R','WPxcQCoPp2W','WRBdImo0WRNcIw8','iI/cHCkSWPi0W5RdIgdcOW','DSkkCmk8WQu'].concat((function(){return['emo2WR7dQSkD','WRpcQSk2W4RdJW','W50FW4pdKM8','wSklWRDu','WQVcTSkS','cf1OWPrr','W6O0bG','AtTuWOTu','se3dNmo3WPW','gSk2W5mjeSkcWPq','ysiRtbS','W5moW5pdSLu','nbldH8o4ArJdK8kGW6jItCkDwSkoWRpcPG','uxXlwmkg','WQBcJ8osnwy','kJ3dGW57','ygTNFL4','WPJcVmkbW7VcImkbxCkBWPGUf8kpiSoKctZdJ1e+','W4tcHbfxWPfMmJVdJGTHvW','WPnqW5/cOSk1','tMnjF2i','WO7cTSo3m2y','W7HlnmkSoq','zGy5vCosFCoqWOFcSCkpWORcV1e','8js3USoK6yc655686zAg6zQP5AAd5lMFomkA5Bo35PE1WPldK+wmSEMcIoMdK+ECSa','WRtdM8ovWR7cLW','tqfxWODQ','5B6x54Yz8j+PPG','5B25542m8l6yGW','CeZcQwS','FczcWRbluCo/','DgHvCvm','CIX5WQP4','u2NcKvRcIa','yCozzXFdSq','W7ucW7ddH2tdTLKFWQddLmoM','yJzEWOfmw8oJzLDS','arxdJsvR','qv1vxeG','8lQPPVcNUPtWO7Qd8y65Vpc/U4pWQRMk5BAL5lM45lYY6kAc6zst5yEF6ygb6kA46Ao+','j8o0eCoucSk/q11mWPbcW5a1WQ3cIYzNW6znhrmADfS','W7GJhSoXe8onWQazW6xcIdS','bsrwpmoHrCk2WPO8','xSkKWObWeW','WQ/dP8oWd8oM','WQZcPmkuW63dRW','WQZcRConj08','8jMuMqxPGkhNN5/PLBlPM5ZLSyhKUkuptUwYRUAuN8oKW6tMLRRPN43PGR3NNQC','W7VdUv7dMCkBWPK','qSkbWQnjnW','emkJW5qCnmoQW7CnW5BdUCk+DCoVWQ91WPVcUmoCwSk5WRFdMSo2W7OnErtdSGG','jmkPt8kJWPq','WQVcHCoThMK','cCkqFCkzWRm','uCkmdCobWRO','4P26tUwgHoEoQoMvH+IUP8ktWR3PNO/MIyNLIypNMOFLVQ5yWQBdRa','yg7dUSogWO8','W7aVgCoxnW','W6hcUqTnWRO','k0b5WPzl','WRFdMujnW6dcLSosWRngb8kUW7T6','iWLpaCox','CxNcJSkapSoIyN8','jH/dLcDn','p0f5hmkrDSokW57cR8kDWPVcQvpcNaNdQHFcIa3cN8k0iCotcN06ta3dPG','sw17s8kT','4P6bW6dLHyFNJ53PLjhORBmFW5/PNAtMIzxLIyNNMQdLVO4GWPFcKa','v8kme8okWRa','WQJcRCkfmdRdNCkfW71QWOq','xXhdTCorya','o1PQbCkm','WOVdKCoeymkB','WONcTSk6xSo3'].concat((function(){return['WQSQFfW','kSo6WO7dPmkUWPq','WRJdVSoVg8og','8kYwRddNMQVLVi/KVQNMG7tMLOJML5NcTCoX6ysI5Psg55U25B2p5lUIW715oq','WQJdJmoQWPFcJW','oWJdImo0','W7xdS8kexdVcQeBcKJDzWOtcJW','ESodzXVdNW','CdzxWO1pxCo1','yMLRq00','W5RcSCk8oCoPoCoSW4ZcVtZcLCkr','n8oLWOxcQCkS','WP/cJmkJW4qW','zmk3xmk8WQT5W5VcQmoOW7zvW4pdLSo+Fmk5','WONcSCkmW7ldLSo2p8kzWOSVw8kHc8kSax/cJfCLdmkuxSoiWOBcKajdW6PAxHZcGKzwW6PxW7ddL8o2W7/dJCkJFCogh8kBWQe','8kMhK8oT55QJ5BYS5lYQ5OoUo8kd','WRJcS8oyh0BdVv7cMG','W6/dQfJdHSkuWPjAuZq','t8kmh8oQWQXg','pam1W4irx0mP','W6zSomkNjW','WORcLmkyW7i0','rSkRECkTWPq','W7dcGXOEWR4','s8oDvHRdJSoQ','WQRcPCojpMhdU13cVaT6WOq','ndJdJdLW','WOtcQJ1aW48','W7VdUv7dVmktWPjDDIiYCG','WQpdJmoUWONcJ2/cIa','WR7cH8k8W5O4fq','d1D3WODEua','rSklWQvepabo','W7dcGZOHWR8','hmoRwCktkq','W7yvW6NdV3S','xSk2WQvLoW','WQLYxmkql8obWOmxW4tcGW','8yE2LSkL6ycs55Y/6zE56zIn5BkU5lMGsCoe5Bok5PseW7SM5PEK6z6U6yo955YV','cxtdHgix','WRVdPmoCdmolWQfbW4JdRmkBW7/dPa','vb7dKCo+wa','WP/dUSoVl8ol','WP7dNSoCfSoH','WR/cKSkGW5C5hYOGnW','lSoUfmoe','t8kLgSooWPi','WRhcLCopmLlcPSoxWR8/W7m4C8o7W5fyWOhcICoOAMvyW6xcH8kf','WP/cJ8kreha','W7Cji8oYfW','sCklWRbZmbvtW6FcVM7dIW','c8oSpSooaa','nXddTZJdVtSJemoeWORdLx1e','fhNdSNKl','8lATH8k25Rkp5ysz5OQE5yUGoCo2','lCoYa8ouamkW','W57cNYi+WPm','u8kmc8oB','bSkNWRxcQbdcUCoKvCokbSk2','WPldH8o2WPNcVG','rG8mAZS','WRNcLCk3W4Wzgs4J','WPZdRCoaWOxcGq','qh5QxNS','cYRdVsjy','WPVdKCoHFmkE','W5SsiSo1ma','l8kLW5OlmW','8ko1RCk56ygm55+56zEt6zQv5BoA5lUEWPOg5BgN5PsOmmo55PA+6zYM6yoB55Yk','iKDH','WPRcH8odoLBcQ8kwWOm8W78'];}()));}()));}());_0x5f35=function(){return _0x1cb27b;};return _0x5f35();};function DecryptResp(_0x55c45e,_0x1c545d){const _0x264208=_0x398937,_0x1afc3c={'hOIPm':function(_0x133111,_0x4c107d){return _0x133111(_0x4c107d);},'EgXiM':_0x264208(0x1a5,'SaF3'),'nYIgp':_0x264208(0x1ef,'IoKF'),'vuCNU':function(_0x57ffda,_0x8ce8da){return _0x57ffda!==_0x8ce8da;},'aOkVZ':_0x264208(0x235,')Gwz'),'OIGdS':function(_0xabc263,_0x3846ee){return _0xabc263!==_0x3846ee;},'ulGnT':'cKIfJ','IkIjH':_0x264208(0x1a8,'Tb)i')};return new Promise((_0x15e1ca,_0x5e23a6)=>{const _0x36610f=_0x264208,_0xbe28c6={'qferZ':function(_0x2f45c8,_0x422ee2){const _0x336145=_0x4dcd;return _0x1afc3c[_0x336145(0x184,'&b*V')](_0x2f45c8,_0x422ee2);},'Sjqzg':_0x1afc3c['EgXiM'],'lepJi':_0x1afc3c[_0x36610f(0x226,'g3ue')],'XzOYM':function(_0x4537d6,_0x1c403b){return _0x1afc3c['vuCNU'](_0x4537d6,_0x1c403b);},'MaloJ':_0x1afc3c['aOkVZ']};if(_0x1afc3c[_0x36610f(0x1dd,'hJqu')](_0x36610f(0x245,'eaI#'),_0x1afc3c['ulGnT']))return new _0x4d7154((_0x1e7dc,_0x48a5d6)=>{const _0x458793=_0x36610f,_0x3705b5={'OxGFb':function(_0x35ef59,_0x376386){return _0xbe28c6['qferZ'](_0x35ef59,_0x376386);}};_0x5e6eb7[_0x458793(0x1af,'Y34z')]({'url':_0xbe28c6[_0x458793(0x236,'W*Rv')],'headers':{'Content-Type':_0x458793(0x1ae,'P@k)')},'body':_0x178615[_0x458793(0x20b,'YPL1')]({'yh':_0xfd7af7,'appid':_0x198704})},(_0x555649,_0x3009a8,_0x10421c)=>{const _0x54c8df=_0x458793;if(_0x555649)_0x3705b5[_0x54c8df(0x19a,'7$[Z')](_0x48a5d6,_0x555649);else{const {success:_0x55d19c,data:_0x31bbea,message:_0x479467}=_0x7d052b[_0x54c8df(0x188,'N(Om')](_0x10421c);_0x55d19c?_0x3705b5[_0x54c8df(0x1e3,'Y34z')](_0x1e7dc,_0x31bbea):_0x48a5d6(_0x479467);}});});else $[_0x36610f(0x18c,'n5wy')]({'url':_0x36610f(0x238,'480x'),'headers':{'Content-Type':_0x1afc3c[_0x36610f(0x1bf,'TQa1')]},'body':JSON[_0x36610f(0x23b,'x60n')]({'yh':_0x55c45e,'appid':_0x1c545d})},(_0x2ddc53,_0x4159df,_0x6be11d)=>{const _0x543da3=_0x36610f,_0x40b985={'MODYn':function(_0x4ff25f,_0x195be0){const _0x611d55=_0x4dcd;return _0xbe28c6[_0x611d55(0x1d0,'&b*V')](_0x4ff25f,_0x195be0);}};if(_0xbe28c6[_0x543da3(0x22e,'q0EO')]!==_0xbe28c6[_0x543da3(0x200,'#&Qr')])_0x4fd601[_0x543da3(0x1da,'Zr5H')]('❌\x20出现错误,\x20需手动登录\x20!\x0a'+_0x518243);else{if(_0x2ddc53)_0xbe28c6['qferZ'](_0x5e23a6,_0x2ddc53);else{if(_0xbe28c6['XzOYM'](_0xbe28c6[_0x543da3(0x20e,'480x')],'QaRhM')){const {success:_0x59a56e,data:_0x50a25a,message:_0x30b4b2}=_0x217346['parse'](_0x4d30fb);_0x59a56e?_0x40b985[_0x543da3(0x1b1,'n5wy')](_0x4e9caa,_0x50a25a):_0x3de1c3(_0x30b4b2);}else{const {success:_0x2d67ac,data:_0x2165d5,message:_0x5c3ca1}=JSON[_0x543da3(0x18f,'i(@j')](_0x6be11d);_0x2d67ac?_0xbe28c6[_0x543da3(0x222,'PQeR')](_0x15e1ca,_0x2165d5):_0xbe28c6['qferZ'](_0x5e23a6,_0x5c3ca1);}}}});});}var version_ = 'jsjiami.com.v7';
/**
 * 对象属性转小写
 * @param {*} obj
 * @returns
 */
function ObjectKeys2LowerCase(obj) {
    let result = {}
    for (let key in obj) {
        result[key.toLowerCase()] = obj[key]
    }
    return result
}
/**
 * 调试日志
 * @param  {...any} args
 */
function output(...args) {
    debug && console.log([...args].join('\n'))
}
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,t);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}











































































// Adding a dummy sgmodule commit(29)
// Adding a dummy plugin commit(27)
// Adding a dummy stoverride commit(24)
